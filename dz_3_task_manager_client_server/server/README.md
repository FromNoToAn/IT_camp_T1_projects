# Серверная часть менеджера задач (Task Manager Server)

## Описание

Серверная часть для управления списком задач (Task Manager) с использованием Node.js, Express и TypeScript. Данные хранятся в облачной базе MongoDB, размещённой на Render, что обеспечивает надёжное хранение и доступность данных для SPA-клиента.

---

## Функционал

- Получение всех задач (`GET /tasks`)
- Получение задачи по ID (`GET /tasks/:id`)
- Создание задачи (`POST /tasks`)
- Обновление задачи (`PATCH /tasks/:id`)
- Удаление задачи (`DELETE /tasks/:id`)
- Валидация данных задачи
- Генерация уникальных ID с учетом "освобожденных" ID

---

## Используемые технологии и подходы

- Node.js
- Express
- TypeScript
- MongoDB + Mongoose (из-за особенности заспания сервера на Render пришлось отказаться от хранения данных в памяти)
- ESLint + Prettier (стандартизация и автоформатирование кода)
- dotenv (переменные окружения)
- JSDoc для документации моделей и функций

---

## Краткое описание архитектуры

- **src/models/** — модели данных (Mongoose-схемы и типы, снабжённые JSDoc)
- **src/routes/** — маршруты Express для задач
- **src/controllers/** — бизнес-логика и валидация
- **src/index.ts** — точка входа, запуск сервера и подключение к облачной MongoDB

---

## Инструкция по запуску проекта

### 1. **Клонирование репозитория:**
```bash
git clone https://github.com/FromNoToAn/IT_camp_T1_projects.git
cd dz_3_task_manager/server
```

### 2. **Установка зависимостей:**
```bash
npm install
```

### 3. **Создайте файл `.env` и укажите строку подключения к MongoDB.**
```
MONGODB_URI=ваша_строка_подключения_к_Render
PORT=3000
```

### 4. **Запустите сервер в режиме разработки:**
```bash
npm run dev
```

### 5. **Для сборки и запуска в production:**
```bash
npm run build
npm start
```

После запуска приложение будет доступно по адресу:
```
http://localhost:3000
```
Также для быстрого просмотра функционала можно воспользоваться:
(Сервер может заснуть, поэтому пожалуйста подождите)
```
https://task-manager-api-29ba.onrender.com/tasks
```

## Примеры запросов

- Получить все задачи
- Можно использовать параметры запроса:
  - ?title=строка — поиск задач, содержащих подстроку в названии (регистронезависимо)
  - ?createdAt=дата — поиск задач, созданных точно в указанную дату
  - Можно комбинировать оба параметра
```
GET /tasks
```
```
GET /tasks?title=кейс&createdAt=2025-07-17T00:00:00.000Z
```
- Получить задачу по ID:
```
GET /tasks/1
```
- Создать задачу:
```
POST /tasks
Content-Type: application/json
{
  "title": "Новая задача",
  "category": "Bug",
  "status": "To Do",
  "priority": "High",
  "description": "Описание",
  "createdAt": "2024-07-17T08:50:00.000Z"
}
```
- Обновить задачу:
```
PATCH /tasks/1
Content-Type: application/json
{
  "status": "Done"
}
```
- Удалить задачу:
```
DELETE /tasks/1
```

---

## Лицензия

LOLKA License